function e(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=r.parcelRequire71fc;let i;var s;let a;var c;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){n[e]=r},r.parcelRequire71fc=o),o.register("kyEFX",(function(r,t){var n,o;e(r.exports,"register",(function(){return n}),(function(e){return n=e})),e(r.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};n=function(e){for(var r=Object.keys(e),t=0;t<r.length;t++)i[r[t]]=e[r[t]]},o=function(e){var r=i[e];if(null==r)throw new Error("Could not resolve bundle with id "+e);return r}})),o("kyEFX").register(JSON.parse('{"2wKWK":"index.b5593732.js","bbzeV":"humane-worker.40689ad2.js"}')),(s=i||(i={})).UNKNOWN="unknown",s.SENT="sent",s.DELIVERED="delivered",s.READ="read",(c=a||(a={})).MSG="msg",c.CONNECTED="connected",c.DISCONNECTED="disconnected",c.ERROR="error";const d=e=>{const r=document.querySelector(e);if(!r)throw new Error(`Element '${e}' is missing`);return r};var u,l;l=function(e,r,t){if(r===self.location.origin)return e;var n=t?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))};let f=new URL(o("kyEFX").resolve("bbzeV"),import.meta.url);u=l(f.toString(),f.origin,!0);const p=new SharedWorker(u,{name:"ðŸ‘©ðŸ»/humane chat worker"});p.port.onmessage=e=>{const r=e.data;if(!r)throw new Error("no payload");switch(r.type){case a.MSG:n=r,E.incoming(n.msg,n.msgId,n.datetime);break;case a.CONNECTED:t=r,console.log("Connected",t.userId);break;case a.ERROR:!function(e){console.error(e.code,e.reason)}(r)}var t,n};const E=d("humane-chat"),g=d("textarea"),m=d("#send"),v=d("#open"),w=d("#close"),y=d("#colorpicker"),b=document.documentElement;document.addEventListener("humane-chat.send",(e=>{const r=e.detail;p.port.postMessage({type:a.MSG,...r})})),addEventListener("beforeunload",(()=>p.port.postMessage({type:a.DISCONNECTED,userId:E.userId}))),m.addEventListener("click",(()=>E.incoming(g.value))),v.addEventListener("click",(()=>E.show())),w.addEventListener("click",(()=>E.hide())),y.addEventListener("input",(e=>{const r=e.target.value;b.style.setProperty("--humane-primary-color",r)})),p.port.start(),p.port.postMessage({type:a.CONNECTED,userId:E.userId});
//# sourceMappingURL=index.b5593732.js.map
